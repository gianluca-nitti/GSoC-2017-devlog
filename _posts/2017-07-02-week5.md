---
date: 2017-07-02
category: week5
---

#### Working on the client-side authentication code
During the last week I continued focusing on the [frontend application](https://github.com/gianluca-nitti/FacadeServer-frontend). First of all, I did some quite heavy refactoring/restyling of the code written during the previous week. This took a couple of days but I think it was necessary, because it was starting to get messy so I learnt about some TypeScript best practices, improved the modularization of the code in different files and set up [tslint](https://palantir.github.io/tslint/) - a TypeScript linter, similar to Checkstyle for java. Also, I set up [Travis-based continuous integration](https://travis-ci.org/gianluca-nitti/FacadeServer-frontend) for the project, which at every commit compiles the TypeScript code and checks for *tslint* rule violations.
I then started building the authentication system, which will allow users of the web/mobile interface to identify themselves against the game server by providing the identity certificates (either by pasting the JSON configuration file of the regular game client, or using the [clientidentity storage service](http://forum.terasology.org/threads/client-identity-cloud-storage-service.1846/)). Unfortunately, I understimated the effort necessary to implement this functionality; since I already built a [very simple proof-of-concept authentication client in Javascript](https://gist.github.com/gianluca-nitti/14e5d61d66d1f347330fa7f42f3db7da) some weeks ago I thought I simply had to integrate it in the project, however I didn't take in consideration that for simplicity I built it around the configuration format used by the identity storage service. The difference between this format and the one used in the regular game client configuration file is that the former stores the BigIntegers as base64 JSON strings, while the latter as regular JSON numbers. Turns out that parsing a JSON containing large numbers (necessary to allow the config-file based authentication method) in Javascript/TypeScript is a bit painful because the standard parser does not support them; so, I tried a couple of libraries but I hit limitations that made them unsuitable. At the moment I think that a nice way to implement a solution is to use [JSON-js](https://github.com/douglascrockford/JSON-js) and manually customize the parser to convert the large numbers to base64 or hexadecimal strings (which can then be fed to the [node-rsa](https://github.com/rzcoder/node-rsa) cryptography library), and I'm working on it.

By the way, I was notified that I passed the first GSoC evaluation. I'm very happy of this and I thank my mentors, the MovingBlocks community in general and Google for supporting this and other projects and for the feedback they are providing.
